<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="Content-Style-Type" content="text/css" />
        <meta http-equiv="Content-Script-Type" content="text/javascript" />
        <meta name="author" content="" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <title>Hiiragi_SIM 2.23</title>
        <link rel="stylesheet" href="style.css" type="text/css">
        <link href="https://fonts.googleapis.com/earlyaccess/roundedmplus1c.css" rel="stylesheet" />
        </style>
        <script type="text/javascript" src="setting.js" charset="UTF-8"></script>
        <script type="text/javascript" src="main.js" charset="UTF-8"></script>
        <script type="text/javascript"></script>
        <link href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/earlyaccess/mplus1p.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/earlyaccess/sawarabimincho.css" rel="stylesheet" />
    </head>

    <body>
        <div class="SITE_WIDTH">
                <div class="BOARD-TOP">
                </div>
                <div class="HOMENUM">
                    <img src="icoca.png" alt=""  width="180" height="180">
                </div>
                <div class="BOARD-CONTENTS">

                    <table border="0" bgcolor="#111111" cellpadding="5" Cellspacing="0" style="border:thick width:800px;height:30px;">
                        <tr>
                        <td width="1000px">
                            <center>
                            <p><font color="white" size="5pt"><span class="cubettl">&nbsp;Ａ&nbsp;</span> JR神戸線/JR京都線/琵琶湖線 自動放送シミュレーター<font size="3pt">(スマホ非対応)</font></font>
                            <br />
                            <font color="white" size="2pt">Hiiragi SIM on JR West, Lake Biwa Line, JR Kyoto Line, JR Kobe Line 2.23</font></p>
                            </center>
                        </td>
                        </tr>
                    </table>

                    <table border="0" bgcolor="#111111" cellpadding="5" Cellspacing="0" style="font-family: "Noto Sans Japanese";border:thick width:800px;height:30px;">
                        <tr>
                                <td width="200px">
                                    <font color="white"><center>種　　別<br /><font size="1">Type</font></center></font>
                                </td>
                                <td width="150px">
                                    <font color="white"><center>乗 車 位 置<br /><font size="1">Boarding Position</font></center></font>
                                </td>
                                <td width="150px">
                                    <font color="white"><center>時　　刻<br /><font size="1">Departure Time</font></center></font>
                                </td>
                                <td width="250px">
                                    <font color="white"><center>行　　先<br /><font size="1">Destination</font></center></font>
                                </td>
                                <td width="250px">
                                    <font color="white"><center>遅　　れ<br /><font size="1">Delay</font></center></font>
                                </td>
                        </tr>
                        <tr bgcolor="#161616" class="SAWARABI">
                                <td width="200px" class="led">
                                    <font color="#377F0B" size="6"><span style="letter-spacing: -4px"><center><div id="output_type">普　通</div></center></span></font>
                                </td>
                                <td width="150px" class="led">
                                    <font color="#377F0B" size="6px"><center>△1〜8</center></font>
                                </td>
                                <td width="150px" class="led">
                                    <font color="#E68115" size="6"><center>12:34</center></font>
                                </td>
                                <td width="250px" class="led">    
                                    </style><font color="#377F0B" size="6"><center>
                                <div id="output">大 久 保</div></center></font>
                                </td>
                                <td width="250px" class="led">
                                    <font color="red" size="5"><center><span style="letter-spacing: -5px">到着まで <font size="4">約</font>5分</span></center></font>
                                </td>
                        </tr>
                    </table>

                    <table class="SAWARABI" border="0" bgcolor="#161616" cellpadding="5" Cellspacing="0" style="border:thick width:800px;height:30px;">
                        <tr>
                            <td class="led">
                            <center>
                                <font size="5" color="#377F0B">
                                <!-- 377F0B,E68115 -->
                                <marquee width="780px" scrollamount="7" truespeed>☆☆☆2017/03/08 初版1.00公開(現在ver2.30) 音源はこれからも追加していきます(現在283種)☆☆☆</marquee>
                                </font>
                            </center>
                            </td>
                        </tr>
                        <tr>
                            <td class="led">
                            <center>
                                <font size="5" color="#E68115">
                                <!-- 377F0B,E68115 -->
                                <marquee width="780px" scrollamount="6" truespeed>現在、♪予告メロディ @神戸線 の音源において不具合が発生しております。修正までしばらくおまちください。配色が無茶苦茶です。CSSはまた修正しますm(__)m ☆シミュレーターに関する情報はこちらで発信します☆</font></marquee>
                                </font>
                             </center>
                            </td>
                        </tr>
                    </table>
                </div>
            </center>

            <div class="MAIN">

                <div class="SELECT_SPACE">
                    <div style="clear:both;">
                        <center><font style='font-size: 20px; font-family: "Mplus 1p"; color: #ffffff'>音　源　一　覧</font><br /><font size="2px">ダブルクリックまたは追加ボタンで文節を追加します。</font></center>
                        <br>
                        <!--=====時選択======================================-->
                        <div style="float:left;">時<br />
                            <select  size='8' id='partsListSelect_hour' style='font-size:16px; width: 100px; height: 200px;' onChange='HowsetSoundParts_hour()' ondblclick='setSoundParts_hour()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_hour.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_hour[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====分選択======================================-->
                        <div style="float:left;">分<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_minute' style='font-size:16px; width: 100px; height: 200px;' onChange='HowsetSoundParts_minute()' ondblclick='setSoundParts_minute()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_minute.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_minute[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====行き先======================================-->
                        <div style="float:left;">駅名(⤵)<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_and' style='font-size:16px; width: 100px; height: 200px;' onChange='HowsetSoundParts_and()' ondblclick='setSoundParts_and()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_and.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_and[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====行き先======================================-->
                        <div style="float:left;">駅名(⤴)<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_for' style='font-size:16px; width: 100px; height: 200px;' onChange='HowsetSoundParts_for()' ondblclick='setSoundParts_for()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_for.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_for[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====メロディ======================================-->
                        <div style="float:left;">♪チャイム・メロディ<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_melody' style='font-size:16px; width: 250px; height: 200px;' onChange='HowsetSoundParts_melody()' ondblclick='setSoundParts_melody()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_melody.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_melody[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                    </div>

                    <div style="clear:both;"><br />
                        <!--=====無音地帯======================================-->
                        <div style="float:left;">無音<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_silent' style='font-size:16px; width: 100px; height: 200px;' onChange='HowsetSoundParts_silent()' ondblclick='setSoundParts_silent()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_silent.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_silent[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====種別======================================-->
                        <div style="float:left;">種別<br /> <!-- （特急・号車番号) -->
                        <select class="SAWARABI" size='8' id='partsListSelect_type' style='font-size:16px; width: 100px; height: 200px;' onChange='HowsetSoundParts_type()' ondblclick='setSoundParts_type()' >
                        <script type="text/javascript">
                        for(i=0 ; i<soundData_type.length ; i++)
                        {
                            document.write("<option value=''>"+soundData_type[i][1]+"</option>");
                        }
                        </script>
                        </select>
                        </div>
                        <!--=====編成両数======================================-->
                        <div style="float:left;">編成両数<br /> <!-- (接続詞に注意) -->
                            <select class="SAWARABI" size='8' id='partsListSelect_ryousu' style='font-size:16px; width: 100px; height: 200px;' onChange='HowsetSoundParts_ryousu()' ondblclick='setSoundParts_ryousu()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_ryousu.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_ryousu[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====一般======================================-->
                        <div style="float:left;">その他放送<br />
                            <select class="SAWARABI" size="8" id='partsListSelect' style='font-size:16px; width: 350px; height: 200px;' onChange='HowsetSoundParts()' ondblclick='setSoundParts()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <div style="clear:both; text-align: center;">
                        <input type="button" id="add" value="追　加" onclick="whichadd()" style='font-size:16px;' />
                        <input type="button" id="add" value="試　聴" onclick="testplay_sound()" style='font-size:16px;' />
                        </div>
                    </div>
                </div>
                <div class="WORKSPACE">
                    <center><font style='font-size: 20px; font-family: "Mplus 1p"; color: #ffffff'>放　送　文　章</font><br /><font size="2px">環境によっては再生に少々時間を要すことがあります。</font></center>
                    <br />
                    <br />
                    <textarea id="inputTextarea" style='font-size:16px; width: 350px; height: 440px;' ></textarea>
                    <audio id="audio0" src="sound/null-250.mp3" height='0'></audio>
                    <div style="clear:both; text-align: center;">
                    <input type="button" id="announceStartButton" value="自動放送開始" onclick="checkInput()" />
                    <input type="button" id="ResetButton" value="リセット" onclick="resetInput()"/>
                    </div>
                    <script type="text/javascript">
                        main();
                    </script>
                    <div id="log"></div>
                </div>
            </div>

            <div class="EXPRENATION">
                <h3 class="HOWTOUSE">使い方 &lt;How To Use&gt;</h3>
                <ul>
                    <li>左側のセレクトボックス内の選択肢から分節を選択し、<font color="#9460a0">ダブルクリックまたは追加ボタンで文節を追加</font>します。文章を組み上げた後は、放送開始ボタンを押すと、自動放送が開始します。
                    </li>
                    <li>文節の順番を入れ替えたい場合は、右側のテキストボックスを行単位で選択し、カット＆ペーストで移動してください。行中の文字列を変更すると正しく再生されません。</li>
                    <li>右側のテキストボックスの内容を別途保存しておき、次回読み込み時に右側のテキストボックスに貼り付け、組立作業を途中から再開することもできます。</li>
                </ul>
                <h3 class="ATTENTION">注意事項 &lt;ATTENTION!!&gt;</h3>
                <ul>
                    <li>お使いのバージョンは最新版(2.30)です。不具合等ございましたら、ご連絡いただければ幸いです。</li>
                    <li><u>このバージョンでは各音源を試聴することができます。</u></li>
                    <li>駅名の音源には2種類あります(イントネーションが違います)。「駅名(行き先)」は行き先を放送するときに使用し、「駅名（⤵）」は「「駅名（⤵）」から快速」や、経由駅の案内に使用してください。「まいります」にも同様の区別があります。</li>
                    <li>以下に<font color="red">放送の例(架空)</font>を示します。よくわからない方はどれかをコピペして使ってみてください。
                    <br>
                        <table class="EXAMPLE">
                            <tr>
                                <td>
                                    <center><font style="font-size: 110%;">☆☆☆<font color="red">特急</font>スーパーはくと東京行き☆☆☆<br>※120分遅れ</font><br></center>
                                    <div class="scr">
                                        ♪予告メロディ @神戸線<br>
                                        折り返し<br>
                                        12時<br>
                                        11分発<br>
                                        特急<br>
                                        スーパーはくと<br>
                                        17号<br>
                                        東京(行き)<br>
                                        行きは<br>
                                        7番のりばから<br>
                                        発車します<br>
                                        (0.75s)<br>
                                        列車は<br>
                                        12両で<br>
                                        到着します<br>
                                        スーパーはくと<br>
                                        (特急名)と表示した乗車口案内でお待ち下さい<br>
                                        約120分以上<br>
                                        遅れて運転しております<br>
                                        到着まで<br>
                                        約10分です<br>
                                        ご迷惑をおかけしますがしばらくお待ち下さい<br>
                                        (1.0s)<br>
                                        停車駅は<br>
                                        大阪<br>
                                        三ノ宮<br>
                                        明石<br>
                                        です<br>
                                        (2.0s)<br>
                                        ご乗車には乗車券の他に特急券が必要です<br>
                                        (3.0s)<br>
                                        ♪大阪駅チャイム<br>
                                        お待たせいたしました（特急のみ）<br>
                                        まもなく<br>
                                        7番乗り場に<br>
                                        12時<br>
                                        11分発<br>
                                        特急<br>
                                        スーパーはくと<br>
                                        17号<br>
                                        東京(行き)<br>
                                        （時刻・行き先）行きが<br>
                                        まいります（⤵）<br>
                                        危ないですから<br>
                                        黄色い点字ブロックまで<br>
                                        お下がりください<br>
                                        列車が<br>
                                        まいります（⤵）<br>
                                        ご注意ください<br>
                                        ♪大阪駅接近メロディ<br>
                                        ♪大阪駅接近メロディ<br>
                                        ♪大阪駅接近メロディ<br>
                                        大阪、大阪です<br>
                                        お忘れ物のないようにご注意ください<br>
                                        乗り降りの際足元にご注意ください<br>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    <li><font color="red">chromeでは音声間の無音時間が短く、より現実に近い放送を聞けました。</font></li>
                </ul>
                <h2 class="INFOMATION">更新情報 &lt;Update&gt;</h2>
                <table class="update">
                    <tr>
                        <td>2017/05/15</td>
                        <td>[修正アップデート ver2.3]電光掲示板風レイアウトに変更＆一部の音源が再生されない問題を修正。</td>
                    </tr>
                    <tr>
                        <td>2017/04/XX</td>
                        <td>[軽微な修正 ver2.23]CSSの修正</td>
                    </tr>
                    <tr>
                        <td>2017/03/30</td>
                        <td>[アップデート ver2.22]音源2種(通過等)を追加し、現在283種の音源が使用できます。</td>
                    </tr>
                    <tr>
                        <td>2017/03/17</td>
                        <td>[アップデート ver2.21]各音源を、種類別に選択・視聴できるようになりました。</td>
                    </tr>
                    <tr>
                        <td>2017/03/11</td>
                        <td>[アップデート ver1.21]音質改良・50種の音源を追加し、現在281種の音源が使用できます。</td>
                    </tr>
                    <tr>
                        <td>2017/03/10</td>
                        <td>[軽微な修正 ver1.11]一部の音源が再生されない問題を修正</td>
                    </tr>
                    <tr>
                        <td>2017/03/10</td>
                        <td>[アップデート ver1.10]音質改良・72種の音源を追加し、現在231種の音源が使用できます。</td>
                    </tr>
                    <tr>
                        <td>2017/03/08</td>
                        <td>JR神戸線/JR京都線/琵琶湖線 自動放送シミュレーター（スマホ非対応）ver1.00を公開しました。159種の音源が使用できます。</td>
                    </tr>
                </table>
                <h3 class="CONTACT">連絡先 &lt;Contact&gt;: 不具合報告やリクエストはこちらからどうぞ</h3>
                <ul>
                    <li><a href="https://hiiragiy.github.io/hiiragi.io/" target="_brank">Home Page</a></li>
                    <li><a href="https://twitter.com/hiiragiy99" target="_blank">Twitter</a>(@ツイートしてください)</li>
                </ul>
                <h2 class="ABOUT">このシミュレーターについて &lt;About&gt;</h2>
                <p>JR神戸線・JR京都線・琵琶湖線の運行管理システム内各駅で使用されている駅自動放送を自由に組み立て、自動放送を流すシミュレーターです。<font color="green">上記路線以外の音源も含まれております。</font><br>素材は今後も増やしていきます。北陸本線についても再現したいと考えています。<font color="green">リクエスト</font>等がございましたら、上の連絡先までお知らせください（お待ちしています！...がすべてのリクエストにお応えできないことがあります、ご了承ください、録音しに行く場合は多忙につき遅くなることもあります）。</p> 
                <h2 class="ENV">動作環境について &lt;Recommended System Requirements&gt;</h2>
                <ul>
                    <li>本バージョンより、音源の視聴が可能となりました。視聴については、スマートフォンでも動作します。また、上に示した放送例の音源もスマートフォンでお聞きいただけます。(動作はiOS10にて確認済み Androidでは確認しておりません)</li>
                    <li><p>以下3点、プログラム開発者であるyoshi223様のサイトより引用させていただきます。</p>
                        <ul>
                            <li>お使いの端末やOS、ブラウザによっては正しく動作しない可能性があります。なるべくパソコン(WindowsやMac)のGoogle Chromeをご利用ください。その他のOS・ブラウザからは正常に動作しない可能性があります。またパソコン以外の端末(スマートフォン)も正しく動作しない可能性が高いです。</li>
                            <li>本シミュレーターはJavaScript・CSS等が正常に動作する環境でご覧いただけます。JavaScriptが動作しない環境では動きません。</li>
                            <li>動作確認は MacBookのGoogle Chrome バージョン 49.0.2623.112 で行なっています。他のOS・ブラウザではレイアウトや挙動が異なったり、エラーで正常に動作しない場合があります。</li>
                        </ul>
                    </li>
                    <li><p>また、私の環境[MacBook Pro:safariバージョン10.0.3 (12602.4.8)]では問題なく動作していますが<font color="red">Chromeは音声間の無音時間が短く、より現実に近い放送を聞けました。</font></p></li>
                </ul>
                <h2 class="source">プログラム配布元</h2>
                <p>このシミュレーターは、下記一般公開/配布されている自動放送シミュレーターのプログラムから作成しました。音楽ファイルを連結させて自動放送を行うというアイデアとその実装へのご尽力に心より敬意を表します。</p>
                <p>yoshi223様</p>
                <a class="yoshi223" href="http://r113.web.fc2.com/p/announce/jrw-osaka-loop/index.html" target="_blank">http://r113.web.fc2.com/p/announce/jrw-osaka-loop/index.html</a>
                <h2 class="ongen">音源について</h2>
                <p>このシュミレータを作成するにあたって、以下の方々に音源の提供をご快諾頂きました。この場でお礼申し上げます。ありがとうございます。</p>
                <ul>
                    <li>やたてつ！様</li>
                    <ul style="list-style-type: circle;">
                        <li><a href="https://twitter.com/yyyy_yatatetsu" target="_blank">Twitter</a></li>
                        <li><a href="https://www.youtube.com/playlist?list=PLpkTgxvE15kqYbZSCODnVep_aSoBCEcUf" target="_blank">YouTube</a></li>
                        <li><a href="http://blogs.yahoo.co.jp/haruki1127sport" target="_blank">Blog</a></li>
                    </ul>
                </ul>
                <p>また、以上の方々にご提供いただいた音源の他に私が録音したものも一部含まれています。</p>
                <div class="chui">
                    <h2 class="niji">二次利用について</h2>
                    <p>このプログラムは<font color="red">音源ではなく、「自動放送のシステム」</font>を公開しております。つきましてはこのシミュレーターで作成した放送を二次利用するにあたって、以下の制限を設けさせていただきます。</p>
                    <ul>
                        <li>前項の通り、このシステムに使用している音源はたくさんの方から提供頂いたものですから、<font color="red">音源ファイル自体を保存したり、加工したり、それらを公開しないこと。</font></li>
                        <li>公開先にこのシミュレーターのURL(https://hiiragiy.github.io/hiiragi.io/contents/announce/index.html)を記載すること。</li>
                        <li>作成した放送で利益を得ないこと（YouTube等の動画サイトにおいて公開される場合は特に注意）</li>
                    </ul>  
                </div>
                <div class="homelink">
                    <center>
                        <h4><a href="https://hiiragiy.github.io/hiiragi.io/">トップへ</a></h4></font>
                        <small>© 2016-2017 Hiiragi_Y</small>
                    </center>
                </div>
            </div>
        </div>
    </body>
</html>