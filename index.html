<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta http-equiv="Content-Style-Type" content="text/css" />
        <meta http-equiv="Content-Script-Type" content="text/javascript" />
        <meta name="author" content="" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <link href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/earlyaccess/sawarabimincho.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/earlyaccess/roundedmplus1c.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Dosis" rel="stylesheet">
        <link href="https://fonts.googleapis.com/earlyaccess/sawarabimincho.css" rel="stylesheet" />
        <!-- <link href="http://mplus-webfonts.sourceforge.jp/mplus_webfonts.css" rel="stylesheet" > -->
        <title>Hiiragi_SIM 2.41</title>
        <script type="text/javascript" src="js/setting.js" charset="UTF-8"></script>
        <script type="text/javascript" src="js/main.js" charset="UTF-8"></script>
        <script type="text/javascript" src="js/jquery-3.2.1.js"></script>
        <script type="text/javascript" src="js/jquery.cookie.js"></script>
        <script type="text/javascript" src="js/jquery.justify.js"></script>
        <script type="text/javascript">
        $(document).ready(function(){
            $('.justify').justify();
            $('.justify-table th').justify();
            });
        </script>
        <link rel="stylesheet" href="style.css" type="text/css">
    </head>

    <body>
        <div class="SITE_WIDTH">
                <div electric-board>
                    <div class="BOARD-TOP">
                    </div>
                    <div class="HOMENUM">
                        <img src="icoca.png" alt=""  width="180" height="180">
                    </div>
                    <div class="BOARD-CONTENTS">

                        <table border="0" bgcolor="#111111" cellpadding="5" Cellspacing="0" style="border:thick width:800px;height:30px;">
                            <tr>
                            <td width="1000px">
                                <center>
                                <p><font color="white" size="5pt"><span class="cubettl">&nbsp;Ａ&nbsp;</span> JR神戸線/JR京都線/琵琶湖線 自動放送シミュレーター</font>
                                <br />
                                <font color="white" size="2pt">Hiiragi SIM on JR West, Lake Biwa Line, JR Kyoto Line, JR Kobe Line 2.40 (スマホ非対応)</font></p>
                                </center>
                            </td>
                            </tr>
                        </table>

                        <table class="justify-table" border="0" bgcolor="#111111" cellpadding="5" Cellspacing="0" style="font-family: Noto Sans Japanese; border:thick; width:800px; height:30px;">
                            <tr>
                                    <td width="100px">
                                        <font color="white"><center>種　別<br /><font size="1">Type</font></center></font>
                                    </td>
                                    <td width="250px">
                                        <font color="white"><center>列車名/乗車位置<br /><font size="1">Train Name / Boarding Position</font></center></font>
                                    </td>
                                    <td width="100px">
                                        <font color="white"><center>時　刻<br /><font size="1">Departure Time</font></center></font>
                                    </td>
                                    <td width="230px">
                                        <font color="white"><center>行　先<br /><font size="1">Destination</font></center></font>
                                    </td>
                                    <td width="170px">
                                        <font color="white"><center>遅　れ<br /><font size="1">Delay</font></center></font>
                                    </td>
                            </tr>
                            <tr bgcolor="#161616" class="MSGothic">
                                    <td width="100px" class="led" height="12px">
                                        <font color="#377F0B" size="6pt"><span style="letter-spacing: -3px;"><center><div id="output_type">普　通</div></center></span></font>
                                    </td>
                                    <td width="200px" class="led" height="12px">
                                        <font color="#377F0B" size="6pt"><center><div id="output_ryousu">△1〜8</div></center></font>
                                    </td>
                                    <td width="100px" class="led" height="12px">
                                        <font color="#E68115" size="6pt"><span id="depature_time"><center><div id="output_hour" style="display: inline;">8</div>:<div id="output_minute" style="display: inline;">11</div></center></span></font>
                                    </td>
                                    <td width="230px" class="led" height="12px">    
                                        <font color="#377F0B" size="6pt"><center>
                                        <div id="output_for">
                                        <span id="keiyu"></span>
                                        <span id="dest"></span>
                                        </div>
                                        </center>
                                        </font>
                                    </td>
                                    <td width="170px" class="led" height="12px">
                                        <center><div id="output_delay" style="display: inline;"></div></center>
                                    </td>
                            </tr>
                        </table>
                        <script type="text/javascript">

                                            var station = new Array();
                                            station[0] = '備中高梁';
                                            station[1] = '魚　住';
                                            station[2] = '鷹　取';
                                            station[3] = '島　本';
                                            station[4] = '東加古川';
                                            station[5] = '東 姫 路';
                                            station[6] = '<font color=\"#377F0B\" style=\"letter-spacing: -3px\"><span class=\"transform\">名古屋</span><span style=\"font-size: 50%; letter-spacing: 0px; \">方面</span>岡 崎</font>';
                                            station[7] = '<font color=\"#377F0B\" style=\"letter-spacing: -3px\"><span class=\"transform\">岡山</span><span style=\"font-size: 50%; letter-spacing: 0px; \">方面</span>三 原</font>';
                                            station[8] = '<font color=\"#377F0B\" style=\"letter-spacing: -3px\"><span class=\"transform\">米原</span><span style=\"font-size: 50%; letter-spacing: 0px; \">方面</span>大 垣</font>';
                                            station[9] = '手　柄';
                                            station[10] = '比叡山坂本';

                                            var no = Math.floor(Math.random() * station.length);
                                            document.getElementById("output_for").innerHTML = station[no];

                                            var type = new Array();

                                            type[0] = '普　通';
                                            type[1] = '<font color=\"#E68115\">貨　物</font>';
                                            type[2] = '<font color=\"#E68115\">快　速</font>';
                                            type[3] = '<font color=\"red\">新快速</font>';
                                            type[4] = '<font color=\"red\">臨　時</font>';
                                            type[5] = '団　体';
                                            type[6] = '<font color=\"#E68115\">回　送</font>';
                                            type[7] = '<font color=\"#E68115\">通　過</font>'

                                            var no = Math.floor(Math.random() * type.length);
                                            document.getElementById("output_type").innerHTML = type[no];

                                            if(no == 1 || no == 5 || no == 6){
                                                document.getElementById("output_for").innerHTML = '当 駅 止';
                                                document.getElementById("output_ryousu").innerHTML = '';
                                            }
                                            if(no == 7){
                                                document.getElementById("output_ryousu").innerHTML = '';
                                                document.getElementById("output_for").innerHTML = '';
                                                document.getElementById("depature_time").innerHTML = '';
                                            }

                                            var okure = new Array();
                                            okure[0] = '<font color=\"red\" size=\"5pt\"><center><span class=\"transform\">遅れ約</span>５分</center></font>';
                                            okure[1] = '<font color=\"red\" size=\"5pt\"><center><span class=\"transform\">遅れ約</span>10分</center></font>';
                                            okure[2] = '<font color=\"red\" size=\"5pt\"><center><span class=\"transform\">遅れ約</span>20分</center></font>';
                                            okure[3] = '<font color=\"red\" size=\"5pt\"><center><span class=\"transform\">遅れ約</span>45分</center></font>';
                                            okure[4] = '<font color=\"red\" size=\"5pt\"><center><span class=\"transform\">遅れ約</span>90分</center></font>';
                                            okure[6] = '';
                                            okure[7] = '';
                                            okure[8] = '';

                                            var no = Math.floor(Math.random() * okure.length);
                                            document.getElementById("output_delay").innerHTML = okure[no];
                        </script>

                        <table class="MSGothic" border="0" bgcolor="#161616" cellpadding="5" Cellspacing="0" style="border:thick width:800px;height:30px;">
                            <tr>
                                <td class="led">
                                <center>
                                    <font size="5" color="#377F0B">
                                    <!-- 377F0B,E68115 -->
                                    <marquee width="780px" scrollamount="6" truespeed></marquee>
                                    </font>
                                </center>
                                </td>
                            </tr>
                            <tr>
                                <td class="led">
                                <center>
                                    <font size="5" color="#E68115">
                                    <!-- 377F0B,E68115 -->
                                    <marquee width="780px" scrollamount="6" truespeed>【バーション2.4】ブラウザのcookieを利用して放送文章を保存できるようになりました。</font></marquee>
                                    </font>
                                 </center>
                                </td>
                            </tr>
                        </table>
                        <center><font size="2px" color="#cccccc">時間・行き先・種別を選択することでページ上部の電光掲示板が更新されます。</font></center>
                    </div>
                </center>
            </div>

            <div class="MAIN">

                <div class="SELECT_SPACE">

                <h2 class="INFOMATION">音源一覧</h2>
                    <div style="float:top;">
                        <!--=====時選択======================================-->
                        <div class="category">時<br />
                            <select  size='8' id='partsListSelect_hour' style='font-size:16px; width: 60px; height: 150px;' onChange='HowsetSoundParts_hour();reload_hour()' ondblclick='setSoundParts_hour()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_hour.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_hour[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====分選択======================================-->
                        <div class="category">分<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_minute' style='font-size:16px; width: 70px; height: 150px;' onChange='HowsetSoundParts_minute();reload_minute()' ondblclick='setSoundParts_minute()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_minute.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_minute[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====行き先======================================-->
                        <div class="category">経由地<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_and' style='font-size:16px; width: 100px; height: 150px;' onChange='HowsetSoundParts_and()' ondblclick='setSoundParts_and()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_and.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_and[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====行き先======================================-->
                        <div class="category">行き先<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_for' style='font-size:16px; width: 100px; height: 150px;' onChange='HowsetSoundParts_for();reload_for()' ondblclick='setSoundParts_for()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_for.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_for[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====メロディ======================================-->
                        <div class="category">♪チャイム・メロディ<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_melody' style='font-size:16px; width: 250px; height: 150px;' onChange='HowsetSoundParts_melody()' ondblclick='setSoundParts_melody()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_melody.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_melody[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                    </div>

                    <div style="float: bottom;">
                        <!--=====無音======================================-->
                        <div class="category">無音(秒)<br />
                            <select class="SAWARABI" size='8' id='partsListSelect_silent' style='font-size:16px; width: 60px; height: 150px;' onChange='HowsetSoundParts_silent()' ondblclick='setSoundParts_silent()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_silent.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_silent[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====種別======================================-->
                        <div class="category">種別・号車<br /> <!-- （特急・号車番号) -->
                        <select class="SAWARABI" size='8' id='partsListSelect_type' style='font-size:16px; width: 100px; height: 150px;' onChange='HowsetSoundParts_type();reload_type()' ondblclick='setSoundParts_type()' >
                        <script type="text/javascript">
                        for(i=0 ; i<soundData_type.length ; i++)
                        {
                            document.write("<option value=''>"+soundData_type[i][1]+"</option>");
                        }
                        </script>
                        </select>
                        </div>
                        <!--=====編成両数======================================-->
                        <div class="category"">編成両数<br /> <!-- (接続詞に注意) -->
                            <select class="SAWARABI" size='8' id='partsListSelect_ryousu' style='font-size:16px; width: 100px; height: 150px;' onChange='HowsetSoundParts_ryousu();reload_ryousu()' ondblclick='setSoundParts_ryousu()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData_ryousu.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData_ryousu[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <!--=====一般======================================-->
                        <div class="category"">その他放送<br />
                            <select class="SAWARABI" size="8" id='partsListSelect' style='font-size:16px; width: 320px; height: 150px;' onChange='HowsetSoundParts()' ondblclick='setSoundParts()' >
                                <script type="text/javascript">
                                    for(i=0 ; i<soundData.length ; i++)
                                    {
                                        document.write("<option value=''>"+soundData[i][1]+"</option>");
                                    }
                                </script>
                            </select>
                        </div>
                        <div style="text-align: center;">
                        <input type="button" id="add" value="追加" onclick="whichadd()" style='font-size:16px;' />
                        <input type="button" id="add" value="試聴" onclick="testplay_sound()" style='font-size:16px;' />
                        </div>
                        <font size="2px">※ダブルクリックまたは追加ボタンで文節を追加します。</font>
                    </div>
                </div>

                <div class="WORKSPACE">
                <h2 class="INFOMATION">放送文章</h2>
                    <script type="text/javascript">
                        $(function(){
                        if ($.cookie("inputTextarea")){
                            $('#inputTextarea').val($.cookie("inputTextarea"));  
                        }
                        //クッキーを保存  
                        $("#SaveButton").click(function(){  
                            $.cookie("inputTextarea",$('#inputTextarea').val());  
                            })  
                        })  
                    </script> 

<textarea id="inputTextarea" style='font-size:16px; width: 340px; height: 350px; border-color: #ffffff'>
♪神戸線チャイム
まもなく
7番乗り場に
0時
11分発
姫路方面
播州赤穂(行)
（時刻・行き先）行きが
8両で
まいります（⤵）
(1.0)
危ないですから
黄色い点字ブロックまで
お下がりください
(0.75)
7番乗り場に
電車が
まいります（⤵）
ご注意ください
(0.5)
♪神戸線接近メロディ
♪神戸線接近メロディ
♪神戸線接近メロディ
</textarea>
                    <audio id="audio0" src="sound/null-250.mp3" height='0'></audio>
                    <div class="buttons">
                    <div>
                    <input type="button" id="announceStartButton" value="放送開始" onclick="checkInput()" />
                    <input type="button" id="ResetButton" value="Reset" onclick="resetInput()"/>
                    <input type="submit" id="SaveButton" value="保存"/>
                    </div>
                    <font size="2px">※環境によっては再生に少々時間を要すことがあります。</font>
                </div>
                </div>
            </div>

            <div class="EXPRENATION">

            <h2 class="INFOMATION">更新情報</h2>
                <div class="update">
                    <table class="update">
                        <tr>
                            <td width="120px">2017/07/19</td>
                            <td width="250px">[アップデート ver2.41]</td>
                            <td>瑞風を含む音源を3種類追加しました。電光掲示板の表示を追加しました。</td>
                        </tr>
                        <tr>
                            <td width="120px">2017/07/17</td>
                            <td width="250px">[アップデート ver2.4]</td>
                            <td>サイトのレイアウトを更新＆一部の音源が再生されない問題を修正。<br>放送文章をcookieによって保存できるようになりました。<br>時間・行き先・種別を選択することでページ上部の電光掲示板に反映されるようになりました。</td>
                        </tr>
                        <tr>
                            <td>2017/05/15</td>
                            <td>[修正アップデート ver2.3]</td>
                            <td>電光掲示板風レイアウトに変更＆一部の音源が再生されない問題を修正。</td>
                        </tr>
                        <tr>
                            <td>2017/04/XX</td>
                            <td>[修正アップデート ver2.23]</td>
                            <td>CSSの修正</td>
                        </tr>
                        <tr>
                            <td>2017/03/30</td>
                            <td>[アップデート ver2.22]</td>
                            <td>音源2種(通過等)を追加し、現在283種の音源が使用できます。</td>
                        </tr>
                        <tr>
                            <td>2017/03/17</td>
                            <td>[アップデート ver2.21]</td>
                            <td>各音源を、種類別に選択・視聴できるようになりました。</td>
                        </tr>
                        <tr>
                            <td>2017/03/11</td>
                            <td>[アップデート ver1.21]</td>
                            <td>音質改良・50種の音源を追加し、現在281種の音源が使用できます。</td>
                        </tr>
                        <tr>
                            <td>2017/03/10</td>
                            <td>[修正アップデート ver1.11]</td>
                            <td>一部の音源が再生されない問題を修正</td>
                        </tr>
                        <tr>
                            <td>2017/03/10</td>
                            <td>[アップデート ver1.10</td>
                            <td>音質改良・72種の音源を追加し、現在231種の音源が使用できます。</td>
                        </tr>
                        <tr>
                            <td>2017/03/08</td>
                            <td>[シミュレータ公開]</td>
                            <td>JR神戸線/JR京都線/琵琶湖線 自動放送シミュレーター（スマホ非対応）ver1.00を公開しました。159種の音源が使用できます。</td>
                        </tr>
                    </table>
                </div>
                <h3 class="ATTENTION">使用方法</h3>
                <ul>
                    <li>デフォルトで登録されている放送文章は【Reset】で削除することができます。</li>
                    <li>左側のセレクトボックス内の選択肢から分節を選択（各音源は【試聴】可能）し、ダブルクリックまたは追加ボタンで文節を追加します。文章を組み上げた後は、放送開始ボタンを押すと自動放送が開始します。
                    </li>
                    <li>放送文章は手書きすることも可能ですが、右の選択エリアの文節に文字列を合わせる必要があります。</li>
                    <li>【保存】ボタンでブラウザを閉じても文章は保存されます（バーション2.40より）。</li>
                    <li><u>時間・行き先・種別を選択することでページ上部の電光掲示板が更新されます。</u>行き先のデフォルト値はランダムです。</li>
                </ul>
                <h3 class="ATTENTION">注意事項</h3>
                <ul>
                    <li>不具合等ございましたら、ぜひご連絡いただければ修正いたします。</li>
                    <li>駅名に関する音源にはイントネーションが異なる2種類の音源があります。「行き先」は行先を放送するときに使用し、「経由地」は「（駅名）から快速」などのように、主として経由駅の案内に使用します。「まいります」にも同様の区別があります。</li>
                    <li>ブラウザによって、音声間の時間が異なります。（例えば、safariよりChromeの方がより現実に近い間隔です）
                    <li>電光掲示板は開発中につき、不具合等あると思います。ご指摘いただければありがたいです。</li>
                </ul>
                <h2 class="INFOMATION">連絡先</h2>
                不具合報告やリクエストはこちらからお願いします。
                <ul>
                    <li><a href="https://hiiragiy.github.io/hiiragi.io/" target="_brank">Home Page</a>（左上PROFILEにメルアドを載せています）</li>
                    <li><a href="https://twitter.com/hiiragiy99" target="_blank">Twitter</a>(@ツイートしてください)</li>
                </ul>
                製作者: ひいらぎ
                <h2 class="ongen">このシミュレーターについて</h2>
                <p>JR神戸線・JR京都線・琵琶湖線の運行管理システム内各駅で使用されている駅自動放送を自由に組み立て自動放送を流すシミュレーターです。上記路線以外の音源も含まれております。</p>
                <p>音源は随時追加していきます。北陸本線についても再現できればと思います。</p> 
                <h2 class="ongen">動作環境について</h2>
                <ul>
                    <li>本バージョンより、音源の視聴が可能となりました（視聴については、スマートフォンでも動作します）。
                    <li><p>以下3点、プログラム開発者であるyoshi223様のサイトより引用させていただきます。</p>
                        <ul>
                            <li>お使いの端末やOS、ブラウザによっては正しく動作しない可能性があります。なるべくパソコン(WindowsやMac)のGoogle Chromeをご利用ください。その他のOS・ブラウザからは正常に動作しない可能性があります。またパソコン以外の端末(スマートフォン)も正しく動作しない可能性が高いです。</li>
                            <li>本シミュレーターはJavaScript・CSS等が正常に動作する環境でご覧いただけます。JavaScriptが動作しない環境では動きません。</li>
                            <li>動作確認は MacBookのGoogle Chrome バージョン 49.0.2623.112 で行なっています。他のOS・ブラウザではレイアウトや挙動が異なったり、エラーで正常に動作しない場合があります。</li>
                        </ul>
                    </li>
                </ul>
                <h2 class="INFOMATION">プログラム配布元</h2>
                <p>このシミュレーターは、下記一般公開/配布されている自動放送シミュレーターのプログラムから作成しました。音楽ファイルを連結させて自動放送を行うというアイデアとその実装へのご尽力に心より敬意を表します。</p>
                <a class="yoshi223" href="http://r113.web.fc2.com/p/announce/jrw-osaka-loop/index.html" target="_blank">大阪環状線 駅自動放送シミュレーター(スマホ非対応)</a>
                <h4>yoshi223様</h4>
                <ul>
                <li><a class="yoshi223" href="http://r113.web.fc2.com/index.htm" target="_blank">yoshi223の鉄道館</a></li>
                <li><a class="yoshi223" href="https://twitter.com/rk113" target="_blank">Twitter</a></li>
                </ul>
                
                <h2 class="ongen">音源について</h2>
                <p>このシュミレータを作成するにあたって、やたてつ様（<a href="https://twitter.com/yyyy_yatatetsu" target="_blank">Twitter</a>・
                <a href="https://www.youtube.com/playlist?list=PLpkTgxvE15kqYbZSCODnVep_aSoBCEcUf" target="_blank">YouTube</a>・
                <a href="http://blogs.yahoo.co.jp/haruki1127sport" target="_blank">Blog</a>）に音源の提供をご快諾頂きました。お礼申し上げます。ありがとうございます。</p>
                <p>以上の方々にご提供いただいた音源の他に私が録音したものも一部含まれています。</p>
                <div class="chui">
                    <h2 class="INFOMATION">二次利用について</h2>
                    <p>このサイトは音源ではなく、<font color="red">「自動放送のシステム」</font>を提供しております。つきましてはこのシミュレーターで作成した放送を二次利用するにあたって、以下の制限を設けさせていただきます。</p>
                    <ul>
                        <li>このシステムに使用している音源はご協力いただいた方からご提供頂いたものが含まれていますから、<font color="red">音源ファイル自体を保存したり、加工したり、それらを公開しないこと。</font></li>
                        <li>公開先にこのシミュレーターのURL<b>(https://hiiragiy.github.io/hiiragi.io/contents/announce/index.html)</b>を記載すること。</li>
                        <li>作成した放送で利益を得ないこと</li>
                    </ul>  
                    以上、よろしくお願いします。
                </div>
                <div class="homelink">
                    <center>
                        <h4><a href="https://hiiragiy.github.io/hiiragi.io/">トップへ</a></h4></font>
                        <small>© 2016-2017 Hiiragi_Y</small>
                    </center>
                </div>
            </div>
        </div>
    </body>
</html>